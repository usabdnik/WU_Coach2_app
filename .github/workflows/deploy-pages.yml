name: Deploy PWA to GitHub Pages

on:
  # –ó–∞–ø—É—Å–∫ –ø—Ä–∏ push –≤ main
  push:
    branches:
      - main

  # –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é
  workflow_dispatch:

# –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# –¢–æ–ª—å–∫–æ –æ–¥–Ω–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: üì• Checkout
        uses: actions/checkout@v4

      - name: üîß Setup Pages
        uses: actions/configure-pages@v4

      - name: üì¶ Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # –ü—É–±–ª–∏–∫—É–µ–º –≤–µ—Å—å –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (–≥–¥–µ –ª–µ–∂–∏—Ç index.html)
          path: '.'

      - name: üöÄ Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4

      - name: ‚úÖ Deployment complete
        if: success()
        run: echo "üéâ PWA —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –Ω–∞ GitHub Pages!"
