# üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î –≤ Supabase

**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é
**–§–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏**: `supabase/migrations/20251110000000_initial_schema.sql`

---

## –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://supabase.com/dashboard/project/mjkssesvhowmncyctmvs/editor
2. –ù–∞–∂–º–∏—Ç–µ **"New query"** (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)

---

## –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:
```
supabase/migrations/20251110000000_initial_schema.sql
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å** SQL –∫–æ–¥ (220+ —Å—Ç—Ä–æ–∫).

---

## –®–∞–≥ 3: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é

1. –í—Å—Ç–∞–≤—å—Ç–µ SQL –∫–æ–¥ –≤ SQL Editor
2. –ù–∞–∂–º–∏—Ç–µ **"Run"** (–∏–ª–∏ Cmd/Ctrl + Enter)
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (5-10 —Å–µ–∫—É–Ω–¥)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Success. No rows returned
```

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! DDL –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ.

---

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

–í –ª–µ–≤–æ–º –º–µ–Ω—é SQL Editor –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
üìÅ public
  üìä athletes
  üìä exercises
  üìä goals
  üìä performances
```

**–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL:**
```sql
SELECT tablename
FROM pg_tables
WHERE schemaname = 'public'
  AND tablename IN ('athletes', 'exercises', 'goals', 'performances');
```

**–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:**
```
tablename
-----------
athletes
exercises
goals
performances
```

---

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–í—ã–ø–æ–ª–Ω–∏—Ç–µ:
```sql
SELECT * FROM exercises;
```

**–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:**
```
id | name | type | category | unit | created_at | updated_at
---|------|------|----------|------|------------|------------
uuid... | Test Exercise | strength | upper_body | reps | 2025-11-10... | 2025-11-10...
```

---

## –®–∞–≥ 6: –°–æ–æ–±—â–∏—Ç–µ –º–Ω–µ

–ù–∞–ø–∏—à–∏—Ç–µ:
```
–°—Ö–µ–º–∞ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–∞
```

–Ø —Å—Ä–∞–∑—É –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É—é –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ REST API!

---

## üîç –ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –º–∏–≥—Ä–∞—Ü–∏—è?

### –¢–∞–±–ª–∏—Ü—ã:
- ‚úÖ **athletes** - –∑–∞–ø–∏—Å–∏ —É—á–µ–Ω–∏–∫–æ–≤ (id, name, group_name, season, status)
- ‚úÖ **exercises** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π (id, name, type, category, unit)
- ‚úÖ **goals** - —Ü–µ–ª–∏ (id, athlete_id, exercise_id, target_value, dates)
- ‚úÖ **performances** - –∏—Å—Ç–æ—Ä–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (id, athlete_id, exercise_id, value, date)

### –ò–Ω–¥–µ–∫—Å—ã:
- ‚úÖ –ù–∞ –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–∞—Ö (athlete_id, exercise_id)
- ‚úÖ –ù–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö (name, group, season, status)
- ‚úÖ –ù–∞ –¥–∞—Ç–∞—Ö –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### –¢—Ä–∏–≥–≥–µ—Ä—ã:
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `updated_at` –ø—Ä–∏ UPDATE

### RLS Policies (MVP):
- ‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è anon —Ä–æ–ª–∏ (SELECT, INSERT, UPDATE, DELETE)
- ‚úÖ –ü–æ–∑–∂–µ —É–∂–µ—Å—Ç–æ—á–∏–º –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### Permissions:
- ‚úÖ GRANT –¥–ª—è anon –∏ authenticated —Ä–æ–ª–µ–π

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞: "relation already exists"

**–ü—Ä–∏—á–∏–Ω–∞**: –¢–∞–±–ª–∏—Ü—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã

**–†–µ—à–µ–Ω–∏–µ**:
1. –õ–∏–±–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ (–≤—Å—ë —É–∂–µ –µ—Å—Ç—å)
2. –õ–∏–±–æ —É–¥–∞–ª–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã —Å–Ω–∞—á–∞–ª–∞:
```sql
DROP TABLE IF EXISTS performances CASCADE;
DROP TABLE IF EXISTS goals CASCADE;
DROP TABLE IF EXISTS exercises CASCADE;
DROP TABLE IF EXISTS athletes CASCADE;
```

–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ.

---

### –û—à–∏–±–∫–∞: "permission denied"

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–†–µ—à–µ–Ω–∏–µ**:
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –∏–º–µ–µ—Ç–µ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

---

### –û—à–∏–±–∫–∞: "syntax error"

**–ü—Ä–∏—á–∏–Ω–∞**: SQL –∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω

**–†–µ—à–µ–Ω–∏–µ**:
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ SQL –∑–∞–Ω–æ–≤–æ, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `-- ============`
- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º `-- ============`
- –ù–µ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤

---

## üìä –ü–æ—Å–ª–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è

–Ø —Å–º–æ–≥—É:
- ‚úÖ –ß–∏—Ç–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ REST API
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ (athletes, exercises, goals)
- ‚úÖ –û–±–Ω–æ–≤–ª—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
- ‚úÖ –£–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏
- ‚úÖ –ü—Ä–æ–≤–æ–¥–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∏–∑ Google Sheets
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Supabase –≤ PWA

---

**–ñ–¥—É –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è!** üöÄ
